<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <title>Music game!</title>
    <script src="build/react.js"></script>
    <script src="build/react-dom.js"></script>
    <script src="build/babel.min.js"></script>


    <!-- polyfill -->
    <script src="./inc/shim/Base64.js" type="text/javascript"></script>
    <script src="./inc/shim/Base64binary.js" type="text/javascript"></script>
    <script src="./inc/shim/WebAudioAPI.js" type="text/javascript"></script>
    <!-- midi.js package -->
    <script src="./js/midi/audioDetect.js" type="text/javascript"></script>
    <script src="./js/midi/gm.js" type="text/javascript"></script>
    <script src="./js/midi/loader.js" type="text/javascript"></script>
    <script src="./js/midi/plugin.audiotag.js" type="text/javascript"></script>
    <script src="./js/midi/plugin.webaudio.js" type="text/javascript"></script>
    <script src="./js/midi/plugin.webmidi.js" type="text/javascript"></script>
    <!-- utils -->
    <script src="./js/util/dom_request_xhr.js" type="text/javascript"></script>
    <script src="./js/util/dom_request_script.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>


    <script defer type="text/babel" src="src/music-game.js"></script>
    <link rel="stylesheet" type="text/css" href="./../cerulean.css">
  </head>
  <body>

    <div class="row">
      <div class="col-xs-8 col-xs-offset-2">
        <div id="music-game"></div>
      </div>
    </div>

    <script type="text/javascript">

function play(note, delay, length, velocity) {
  MIDI.noteOn(0, note, velocity || 100, delay);
  MIDI.noteOff(0, note, delay + (length || 1));
}

function playTune(notes, rate) {
  var noteLength = 1.0 / rate;
  for (var x = 0; x < notes.length; x++) {
    if (notes[x]) {
      console.log(notes[x], noteLength, noteLength);
      window.play(notes[x], noteLength, noteLength, 100);
    }
  }
}





</script>
  </body>
</html>
