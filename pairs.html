<html>
<head>
<script src="./jquery.js"></script>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <h1>Pairs generator!</h1>
        <p>People to pair:</p>
        <textarea id="people" rows="10">buck
emily
wayne
priya</textarea>

        <button id="generatePairs" value="generate pairs">generate pairs</button>
        <hr>
        <p>result:</p>
        <textarea id="output"></textarea>
      </div>
    </div>
  </div>
</body>

<script defer>
var shuffle = function (array) {
  var m = array.length, t, i;

  // While there remain elements to shuffle
  while (m) {

    // Pick a remaining element
    i = Math.floor(Math.random() * m--);

    // And swap it with the current element.
    t = array[m];
    array[m] = array[i];
    array[i] = t;
  }

  return array;
}


var pairUp = function(people) {
  var arr = shuffle(people.split(/\n/));
  var arr_l = [];
  var arr_r = [];
  while (arr.length) {
    arr_l.push(arr.pop());
    arr_r.push(arr.pop());
  }
  out = "";
  for (var i = 0; i < arr_l.length; i++) {
    out += arr_l[i] + "," + arr_r[i] + "\n";
  };
  return out;
}

$("#generatePairs").on("click", function(e) {
  $("#output").html(pairUp($("#people").val()));
})
</script>
</html>