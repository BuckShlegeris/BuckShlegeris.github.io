---
layout: post
title:  "Optimal resource allocation between manufacturing and research"
date: 2016-11-26
---

Suppose you've just inherited a bunch of money, and you want to spend it all on producing as much of some good as you can, for example paperclips. You have to decide how much of your wealth you want to spend on researching the efficient production of paperclips, and how much you want to spend on manufacturing the paperclips. The right move is probably to do all the research and then manufacture all your paperclips after you've found the most efficient way of producing them.

Research has diminishing marginal returns. When I started thinking about this, my guess was that the proportion of your effort you'd spend on research would decrease quickly as you increased the amount of wealth you control. But then I tried making a mathematical model for it and now I don't think that anymore. **For all the plausible models of marginal returns to research I considered (except the case where research is literally useless after a point), the amount of effort you put into research grows only slightly slower than linearly with your overall wealth.**

(I started wondering about this because I was wondering about the subjective experience of a [paperclip maximizer](https://wiki.lesswrong.com/wiki/Paperclip_maximizer), and the answer to this question informs that. The actual manufacturing work of a paperclip maximizer is probably not very computationally intensive, but the research work probably is. It seems possible that the research work of the paperclip maximizer involves subjective experience, but it seems much less likely that the manufacturing work does.)

## Logarithmic returns

Suppose the returns to research are logarithmic. (Owen Cotton-Barratt has [previously argued](http://www.fhi.ox.ac.uk/theory-of-log-returns/) that they are.) So the cost of manufacturing a paperclip after you've expended $$r$$ effort on researching paperclip manufacturing is $$\frac{1}{\log(r)}$$. Now if you have $$x$$ total wealth, the total paperclip manufacture you get done is

$^$\frac{x - r}{\log(r)}$^$

which you can solve to get the optimal value of $$r$$ (full working [here](https://github.com/bshlgrs/economics-demos/blob/master/python/paperclip.py)):

$^$ e^{\operatorname{LambertW}{\left (e \cdot x \right )} - 1} $^$

Not gonna lie, I had to look up what the Lambert W function is. It's asymptotially equal to $$\log(x) - \log(\log(x)) + o(1)$$. So overall we have

$$\begin{align}
   e^{\operatorname{LambertW}{\left (e \cdot x \right )} - 1} &= e^{\log(e \cdot x) - \log(\log(e \cdot x)) + o(1) - 1} \\
 &= \frac{e \cdot x}{\log(e \cdot x)} \cdot o(1)
\end{align}$$

So the proportion of energy dedicated to research increases like $$\frac{x}{\log(x)}$$.

Here's a table of some values of the solution:

<table class="table">
  <thead>
    <tr>
      <td>$$x$$</td><td>$$r$$</td>
    </tr>
  </thead>
  <tbody>
<tr><td> $$10^0$$ </td><td> 1.0 </td></tr>
<tr><td> $$10^1$$ </td><td> 4.13</td></tr>
<tr><td> $$10^2$$ </td><td> 23.9 </td></tr>
<tr><td> $$10^3$$ </td><td> 164 </td></tr>
<tr><td> $$10^4$$ </td><td> 1232 </td></tr>
<tr><td> $$10^5$$ </td><td> 9812 </td></tr>
<tr><td> $$10^6$$ </td><td> 81264 </td></tr>
<tr><td> $$10^7$$ </td><td> 692157 </td></tr>
<tr><td> $$10^8$$ </td><td> 6020238 </td></tr>
<tr><td> $$10^{20}$$ </td><td> 2.310e+18</td></tr>
<tr><td> $$10^{50}$$ </td><td> 8.975e+47 </td></tr>
<tr><td> $$10^{100}$$ </td><td> 4.428e+97 </td></tr>
<tr><td> $$10^{200}$$ </td><td> 2.196e+197 </td></tr>
</tbody>
</table>

## Other functional forms for returns to research

If returns diminish more slowly than logarithmically, eg if your cost function is $$\frac{1}{\sqrt{r}}$$, you end up spending a larger fraction of your wealth on research--in that particular case, you spend exactly $$\frac13$$ on research. More generally, the cost function $$\frac{1}{\sqrt[p]{r}}$$ has an optimal research expenditure of $$\frac{1}{p + 1}\cdot x$$.

If returns diminish more quickly than logarithmically, you spend less on research. But not that much. I can't find a closed form solution for the case where paperclip cost looks like $$\frac{1}{\log(\log(r))}$$, but when I [solve it numerically](https://github.com/bshlgrs/economics-demos/blob/master/python/paperclip_log_log.py), research expenditure looks only slightly slower growing than it was in the log case.

## Could returns to research ever hit literally zero?

I don't see any obvious reasons that they would, but I guess it could happen. Even if they did, you'd have to be extremely confident that you were never going to get anything useful out of research in order to stop doing it.

## What about if the maximizer has an unbounded utility function?

If your utility function is literally the expected number of paperclips in the universe, then you might spend all of your wealth looking for a way to gain control over an infinitely large amount of energy, because if the probability of this strategy working is nonzero it will have a higher EV than any other option, and you will plausibly never be able to be confident enough that this strategy won't work in order to stop working on it. If you think that this is rational behavior, then with probability 1 you will spend all of your wealth on researching perpetual motion machines or whatever.

## Conclusion

Given that research spending is a reasonably large proportion of industry now, and that research looks like it should grow almost proportionally with your overall resource budget even when you have extremely large amounts of wealth, I think that a paperclip maximizer would probably spend a noticeable proportion of its wealth on optimizing its manufacturing processes, even if it has [astronomically large](http://www.nickbostrom.com/astronomical/waste.html) wealth.

This looks kind of like an exploitation-exploration question. I don't know the results on that kind of tradeoff well enough to know if they apply here.
